# 第 1 章 用户画像概述
## 三个概念
   1. 用户画像(User Portraint): 对同一类用户进行不同维度的刻画
   2. 用户角色(User Persona): 业务系统中不同用户的角色区分
   3. 用户属性(User Profile): 针对用户属性层面的刻画和描述，特别是基本属性，包括性别，年龄，地域等等。

## 用户画像的来源
   1. 对用户行为日志进行分析，可以得到众多子画像，比如演员偏好画像(喜欢刘德华), 导演偏好画像(喜欢吴京)...
   2. 用户画像是对原始数据二次计算重构之后，由子画像组成的集合。
   3. 简单而言：**用户画像=贴标签后的标签集合**

## 用户画像应用领域
   推荐系统：
   (1)当日推荐;(2)新品推荐;(3)关联推荐;(4)他人购买/浏览商品;


# 第 2 章 用户画像建模
   **用户画像建模的核心是对用户潜在的意图和兴趣进行表示和存储，根据用户的基础信息、视频信息、访问信息、行为偏好，以及隐式兴趣等归纳出可读取、可计算的用户模型。**</br>
   主要分为两种：定性画像，定量画像。</br>
   定量画像的关键是用户画像的颗粒度，如果颗粒度太粗，会影响推荐系统的准确度；如果颗粒度太细，就没有适用性。</br>
   定性画像的关键是标签化。


# 第 3 章 群体用户画像分析
**群体用户画像分析是分析目标用户，进行标签化，同时包含用户间的关联分析**</br>
群体用户画像分析旨在依据不同的评估维度和模型算法，通过聚类方式将具有相同特性的用户划归成同一个族群，进而发现核心的，规模较大的用户群，从而在设计推荐算法时优先满足核心用户群的需求，进一步在不存在冲突的情况下尽量满足次要用户群的需求。</br>
群体用户画像分析的流程：
1. 用户画像获取
2. 用户画像相似度计算: **根据不同的用户画像计算相互间的相似程度，是区分用户群体的重要指标，是开展用户画像聚类的前提条件**。
3. 用户画像聚类: 根据用户画像间的相似程度，将相似的用户画像聚为一类。
4. 群体用户画像生成: 针对不用类别的用户分别建立有代表性的典型用户画像。
   
## 用户画像相似度
定量标签中的相似度计算：
   $$sim(u_i,u_j)=\sum_{k}w_ksim(profile_k(u_i), profile_k(u_j))$$
其中, $w_k$表示第k个定量标签的权重，$sim(profile_k(u_i), profile_k(u_j))$表示用户画像$u_i$和用户画像$u_j$在第k个定量标签的相似度。

在计算相似度之前，要先进行归一化，将不同取值范围的定量标签数据统一映射到[0,1]区间。</br>
常用的归一化方法有**线性函数转换，数函数转换，反正切函数转换**。</br>
  1. 线性函数转换
   $$Y=|(X-X_{min})/(X_{max}-X_{min})|$$
  2. 数函数转换
   $$Y=log_{10}X$$
  3. 反正切函数转换
   $$Y={atan(X)^2/\pi}$$

**对于标量标签，常用的相似度指标：**
  1. 欧式距离(Euclidean Distance)
   $$sim(U_i, U_j)=\sqrt{\sum_{k}{(profile_k(U_i)-profile_k(U_j))^2}}$$
  2. 曼哈顿距离(Manhattan Distance)
   $$sim(U_i,U_j)=\sum_{k}|profile_k(U_i)-profile_k(U_j)|$$
  3. 余弦相似度
   $$sim(U_i,U_j)=\sum_k{({profile_k(U_i)/\sqrt{\sum_kprofile_k^2(U_i)}}*{profile_k(U_j)/\sqrt{\sum_kprofile_k^2(U_j)}})}$$
  4. Jaccard系数
   $$sim(U_i,U_j)=|Profile(U_i) And Profile(U_j)/Profile(U_i) Or Profile(U_j)|$$

**对于定性标签，常用的相似度指标：**
  1. 将定性标签映射到定量标签，进而使用定量标签的相似度计算方法
  2. 直接采用基于概念的相似度计算方法——云模型

## 用户画像聚类
  1. 层次化聚类算法：使用数据的连接规则，通过一种层次架构方式，反复将数据进行分类和聚合，以形成一个层次序列的聚类问题解。</br>
  2. 划分式聚类算法：需要预先指定聚类数目或聚类中心，通过反复迭代运算，逐步降低目标函数的误差值，当目标函数数值收敛时，得到最终聚类结果。
  3. 基于密度和网格的聚类方法。通过数据密度(单位区域内的实例数)来发现任意形状的类簇；使用一个网格结构，围绕模式组织由矩形块划分的值空间，基于块的分布信息实现模式聚类。


# 用户画像管理
  1. 存储机制
  2. 查询机制
  3. 定时更新机制
